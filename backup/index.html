<!doctype html>
<html>
<head>
    <title>Noteworthy</title>

    <meta charset="utf-8" />
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="css/index.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase-auth.js"></script>


  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase.js"></script>
  <script>
      // Initialize Firebase
      var config = {
      apiKey: "AIzaSyDiiEXMCzBqUiOMGKhXxG_fk52DTEewvWM",
      authDomain: "noteworthy-221403.firebaseapp.com",
      databaseURL: "https://noteworthy-221403.firebaseio.com",
      projectId: "noteworthy-221403",
      storageBucket: "noteworthy-221403.appspot.com",
      messagingSenderId: "419730415292"
      };
      firebase.initializeApp(config);

    firebase.auth().signOut();

    firebase.auth().onAuthStateChanged(user => {
      if(user) {
        localStorage.setItem('uid', user.getIdToken());
        window.location = 'courses.html'; //After successful login, user will be redirected to home.html
      }
    });
  </script>
  <!-- Top Header -->
  <div class="row">
    <div class="col s12 #e57373 red lighten-2">
       <p>
          <img class="Logo" src = "images/Noteworthy_Logo.png" alt="picture">
       </p>
    </div>
</div>

 <!-- Sign In Form Input -->
 <div class="row2">
     <div class="section">
        <div class="row">
          <div class="input-field col s4 offset-s4">
            <input id="username" type="text" class="validate">
            <label for="username">Email</label>
          </div>
          <div class="input-field col s4 offset-s4">
            <input id="password" type="password" class="validate">
            <label for="password">Password</label>
          </div>
        </div>
     </div>
 </div>

 <!-- Button to submit -->
 <div class="submit">

    <div class="row">
      <div class="col s6">
         <div class="right-align">
           <button onclick="login_with_email()" id="emailButton" class="btn waves-effect waves-light #ef5350 red lighten-1"
                  type="submit" name="action">
             Sign In
             <i class="material-icons right">send</i>
          </button>
        </div>
      </div>
      <div class="col s6">
         <div class="left-align">
           <button onclick="createUser()" id="newUser" class="btn waves-effect waves-light #ef5350 red lighten-1"
                  type="submit" name="action">
             Register
             <i class="material-icons right">send</i>
          </button>
        </div>
      </div>
    </div>
 </div>


 <!-- Google Log in Text -->
 <div class="col s12">
    <p class="google_prompt">
       Or login with your Google account:
    </p>
 </div>


 <!-- Google Icon -->
 <input class="circle" id="google" type="image" src="images/google.png" onclick="login_with_google()"/>


    <script src="js/index.js"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>

</html>